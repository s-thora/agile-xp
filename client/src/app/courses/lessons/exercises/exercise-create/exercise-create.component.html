<a mat-button color="primary" routerLink="../../" routerLinkActive="active" mat-button>Back</a>

<form [formGroup]="exerciseFormGroup">

  <div *ngIf="exerciseFormGroup.controls.params.controls.success.value; then success; else form"></div>

  <ng-template #form>

    <create-intro [exerciseFormGroup]="exerciseFormGroup"></create-intro>

    <div *ngIf="exerciseFormGroup.controls.intro">
      <div *ngIf="exerciseFormGroup.controls.intro.controls.type.value"
        [ngSwitch]="exerciseFormGroup.controls.intro.controls.type.value.value">
        <div *ngSwitchCase="'source-test'">
          <p>source-test</p>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=sourceControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=testControl></create-editor>
        </div>
        <div *ngSwitchCase="'source-test-file'">
          <p>source-test-file</p>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=sourceControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=testControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=fileControl></create-editor>
        </div>
        <div *ngSwitchCase="'test'">
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=sourceControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=testControl></create-editor>
        </div>
        <div *ngSwitchCase="'test-file'">
          <p>test-file</p>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=sourceControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=testControl></create-editor>
          <create-editor [exerciseFormGroup]="exerciseFormGroup" formGroupName=fileControl></create-editor>
        </div>
        <div *ngSwitchCase="'theory'">
          <p>theory</p>
        </div>
        <div *ngSwitchDefault>
          <p>default</p>
        </div>
      </div>

      <create-submit [exerciseFormGroup]="exerciseFormGroup"></create-submit>

    </div>

  </ng-template>

  <ng-template #success>
    <div class="mat-elevation-z2 card">
      <p>Exercise was created successfully.</p>
    </div>
  </ng-template>


</form>

<pre>{{ exerciseFormGroup.value | json }}</pre>